<h5 class="text-center mb-5 pt-3">Task Details - {{ task.taskName }}</h5>

<ul ngbNav #nav="ngbNav" class="links">
  <li ngbNavItem routerLinkActive="true">
    <a ngbNavLink>Details</a>
    <ng-template ngbNavContent>
      <div class="config-tables">
        <table>
          <thead>
            <tr>
              <th colspan="3" class="text-center">
                Task Detail
                <i
                  (click)="onAddDetail()"
                  class="fa fa-plus-circle float-right mr-2 mt-1 cursor-pointer"
                ></i>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of details; let i = index">
              <td><input [(ngModel)]="details[i].key" placeholder="Key" /></td>
              <td>
                <input [(ngModel)]="details[i].value" placeholder="Value" />
              </td>
              <td style="width: 4.1rem">
                <button (click)="onRemoveDetail(i)" class="btn btn-sm btn-dark">
                  Remove
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <p *ngIf="!details.length" class="mt-2 text-center">
        --- No details are added ---
      </p>
      <button
        (click)="onSaveDetails()"
        class="btn btn-success"
        [disabled]="isLoading"
      >
        <app-spinner *ngIf="isLoading"></app-spinner>
        <i class="fa fa-floppy-o" aria-hidden="true"></i> Save
      </button>
    </ng-template>
  </li>
  <li ngbNavItem routerLinkActive="true">
    <a ngbNavLink>Config</a>
    <ng-template ngbNavContent>
      <div class="config-tables">
        <table>
          <thead>
            <tr>
              <th colspan="3" class="text-center">
                Config
                <i
                  (click)="onAddConfig()"
                  class="fa fa-plus-circle float-right mr-2 mt-1 cursor-pointer"
                ></i>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of configs; let i = index">
              <td><input [(ngModel)]="configs[i].key" placeholder="Key" /></td>
              <td>
                <input [(ngModel)]="configs[i].value" placeholder="Value" />
              </td>
              <td style="width: 4.1rem">
                <button (click)="onRemoveConfig(i)" class="btn btn-sm btn-dark">
                  Remove
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <button class="btn btn-success" [disabled]="isLoading">
        <app-spinner *ngIf="isLoading"></app-spinner>
        <i class="fa fa-floppy-o" aria-hidden="true"></i> Save
      </button>
    </ng-template>
  </li>
  <li ngbNavItem>
    <a ngbNavLink>Publish Task</a>
    <ng-template ngbNavContent>
      <div class="publish-tables">
        <table>
          <thead>
            <tr>
              <th>User Name</th>
              <th>Grant Access</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of users; let i = index">
              <td>{{ item.label }}</td>
              <td>
                <label class="switch">
                  <input type="checkbox" [(ngModel)]="item.isAllowed" />
                  <span class="slider round"></span>
                </label>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <button class="btn btn-success" [disabled]="isLoading">
        <app-spinner *ngIf="isLoading"></app-spinner>
        <i class="fa fa-floppy-o" aria-hidden="true"></i> Save
      </button>
    </ng-template>
  </li>
  <li ngbNavItem>
    <a ngbNavLink>Analyze Task</a>
    <ng-template ngbNavContent>
      <div class="py-3 text-center">--- No Content ----</div>
    </ng-template>
  </li>
  <li ngbNavItem>
    <a ngbNavLink>Start Task</a>
    <ng-template ngbNavContent>
      <div class="py-3 text-center">--- No Content ----</div>
    </ng-template>
  </li>
  <li ngbNavItem>
    <a ngbNavLink>Full Process Analysis</a>
    <ng-template ngbNavContent>
      <div class="py-3 text-center">--- No Content ----</div>
    </ng-template>
  </li>
  <li ngbNavItem>
    <a ngbNavLink>Stop</a>
    <ng-template ngbNavContent>
      <div class="py-3 text-center">--- No Content ----</div>
    </ng-template>
  </li>
  <li ngbNavItem>
    <a ngbNavLink>Export to XL</a>
    <ng-template ngbNavContent>
      <div class="py-3 text-center">--- No Content ----</div>
    </ng-template>
  </li>
</ul>
<div [ngbNavOutlet]="nav"></div>

<div class="mt-3">
  <div class="config-tables">
    <table>
      <thead>
        <tr>
          <th>Column 1</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Activity 1</td>
        </tr>
        <tr>
          <td>Activity 2</td>
        </tr>
        <tr>
          <td>Activity 3</td>
        </tr>
        <tr>
          <td>Pointer to Metrics 100</td>
        </tr>
        <tr>
          <td>Activity 4</td>
        </tr>
        <tr>
          <td>Activity 5</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="mt-1">
  <div class="config-tables">
    <table>
      <thead>
        <tr>
          <th>Metric ID</th>
          <th>Metric 1</th>
          <th>Metric 2</th>
          <th>Metric 3</th>
          <th>Metric 4</th>
          <th>Metric 5</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>100</td>
          <td>100</td>
          <td>43</td>
          <td>345</td>
          <td>223</td>
          <td>efgfed</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
